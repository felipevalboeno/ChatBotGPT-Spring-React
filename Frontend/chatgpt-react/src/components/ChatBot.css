:root{
  --bg: #f6fbfb;
  --card-bg: rgba(255,255,255,0.98);
  --accent-1: #0ea5a4;      /* teal */
  --accent-2: #2563eb;      /* indigo */
  --muted: #6b7280;
  --bubble-user: linear-gradient(180deg, #2563eb 0%, #1e40af 100%);
  --bubble-bot: #f1f5f9;
  --shadow-sm: 0 6px 18px rgba(16,24,40,0.06);
  --shadow-md: 0 14px 40px rgba(16,24,40,0.08);
  --radius-xl: 14px;
}

/* fixa o status no canto direito */
.status-dot {
  position: absolute;
  right: 4em;
  top: 10%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.12);
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.95);
}


/* Root layout */
.container { --bs-gutter-x: 0.5rem; } /* small gutter on mobile */
body { background: linear-gradient(180deg, #f8fafc 0%, var(--bg) 100%); }

/* Chat card */
.chat-card {
  border: 0;
  border-radius: var(--radius-xl);
  background: linear-gradient(180deg, rgba(255,255,255,0.9), var(--card-bg));
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

/* Header */
.chat-header {
  background: linear-gradient(90deg, rgba(37,99,235,0.95), rgba(14,165,233,0.95));
  color: #fff;
  padding: 18px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.chat-header h4 { margin: 0; font-weight: 600; letter-spacing: 0.2px; font-size: 1.05rem; }
.chat-header .status {
  margin-left: auto;
  font-size: .78rem;
  padding: 6px 10px;
  background: rgba(255,255,255,0.12);
  border-radius: 999px;
  color: rgba(255,255,255,0.95);
}

/* Chat area */
.chat-box {
  padding: 20px;
  min-height: 360px; /* fallback */
  max-height: 60vh;
  overflow-y: auto;
  background: linear-gradient(180deg, rgba(250,252,255,0.6), rgba(247,250,252,0.6));
  scrollbar-width: thin;
  scrollbar-color: rgba(16,24,40,0.12) transparent;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Custom scrollbar (webkit) */
.chat-box::-webkit-scrollbar { width: 10px; }
.chat-box::-webkit-scrollbar-track { background: transparent; }
.chat-box::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(16,24,40,0.07), rgba(16,24,40,0.12));
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

/* Message row base */
.message-row { padding: 6px 10px; display: flex; align-items: flex-end; gap: 8px; }

/* Bot (left) and User (right) alignment */
.message-row.bot { justify-content: flex-start; }
.message-row.user { justify-content: flex-end; }

/* Bubbles */
.message-bubble {
  max-width: 78%;
  padding: 12px 14px;
  border-radius: 16px;
  box-shadow: var(--shadow-sm);
  line-height: 1.35;
  font-size: 14px;
  transition: transform .12s ease, box-shadow .12s ease;
  position: relative;
  word-break: break-word;
}

/* Bot bubble style */
.message-row.bot .message-bubble {
  background: var(--bubble-bot);
  color: #0f172a;
  border-bottom-left-radius: 6px;
}

/* User bubble style */
.message-row.user .message-bubble {
  background: var(--bubble-user);
  color: #fff;
  border-bottom-right-radius: 6px;
  box-shadow: 0 10px 30px rgba(37,99,235,0.12);
}

/* Tiny tail triangles */
.message-row.bot .message-bubble::after,
.message-row.user .message-bubble::after {
  content: "";
  position: absolute;
  bottom: 6px;
  width: 0;
  height: 0;
}
.message-row.bot .message-bubble::after {
  left: -8px;
  border-right: 8px solid var(--bubble-bot);
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
}
.message-row.user .message-bubble::after {
  right: -8px;
  border-left: 8px solid rgba(30,64,175,1);
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
}

/* Hover lift */
.message-row.bot .message-bubble:hover,
.message-row.user .message-bubble:hover {
  transform: translateY(-3px);
  box-shadow: 0 18px 40px rgba(16,24,40,0.08);
}

/* Timestamp small */
.message-meta {
  display: block;
  margin-top: 6px;
  font-size: 11px;
  color: var(--muted);
  opacity: .85;
  text-align: right;
}

/* Footer / Input */
.chat-footer {
  background: transparent;
  padding: 14px 16px;
  border-top: 1px solid rgba(15,23,42,0.04);
}

/* Input group overrides */
.input-group { display: flex; gap: 8px; align-items: center; }
.attach-btn {
  background: transparent;
  border: 0;
  font-size: 17px;
  padding: 8px;
  border-radius: 10px;
  cursor: pointer;
  color: var(--muted);
}
.attach-btn:hover { background: rgba(15,23,42,0.03); color: #111827; }

/* Text input */
.chat-input {
  flex: 1;
  border-radius: 12px;
  padding: 12px 14px;
  border: 1px solid rgba(15,23,42,0.06);
  box-shadow: none;
  font-size: 14px;
  transition: box-shadow .12s ease, border-color .12s ease;
  min-height: 44px;
}
.chat-input:focus {
  outline: none;
  box-shadow: 0 10px 30px rgba(37,99,235,0.1);
  border-color: rgba(37,99,235,0.35);
}

/* Send button */
.send-btn {
  background: linear-gradient(180deg, var(--accent-1), #047857);
  color: #fff;
  border: 0;
  padding: 10px 14px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(4,120,87,0.12);
  cursor: pointer;
  font-weight: 600;
}
.send-btn:disabled { opacity: .6; cursor: not-allowed; }
.send-btn:hover { transform: translateY(-2px); }

/* Small screens */
@media (max-width: 768px) {
  .chat-box { padding: 14px; max-height: 55vh; }
  .message-bubble { font-size: 13px; padding: 10px 12px; }
  .chat-header h4 { font-size: 0.98rem; }
}

/* Optional compact modifier (if you want denser look) */
.chat-card.compact .chat-box { padding: 10px; }
.chat-card.compact .message-bubble { padding: 8px 10px; border-radius: 12px; }

/* Accessibility: high contrast focus outlines */
.chat-input:focus-visible, .send-btn:focus-visible, .attach-btn:focus-visible {
  outline: 3px solid rgba(37,99,235,0.18);
  outline-offset: 2px;
}

